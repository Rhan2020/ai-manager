# ğŸ¤– AIä»»åŠ¡ç®¡å®¶ç³»ç»Ÿ

ä¸€ä¸ªå®Œæ•´çš„æ™ºèƒ½ä½“åä½œä»»åŠ¡ç®¡ç†å¹³å°ï¼Œæ”¯æŒè±†åŒ…APIçš„AIæ™ºèƒ½ä½“åˆ›å»ºã€ç®¡ç†å’Œä»»åŠ¡å¤„ç†ã€‚

## âœ¨ ç³»ç»Ÿç‰¹è‰²

### ï¿½ï¸ ä¸‰å±‚æ¶æ„è®¾è®¡
- **ï¿½ï¸ æ¡Œé¢ç«¯ (Butler)**: æ™ºèƒ½ä½“ç®¡å®¶ï¼Œè´Ÿè´£æ™ºèƒ½ä½“çš„åˆ›å»ºã€ç®¡ç†å’Œå®æ—¶ä»»åŠ¡å¤„ç†
- **ï¿½ Webç«¯**: ç”¨æˆ·å‹å¥½çš„ä»»åŠ¡ç®¡ç†ç•Œé¢ï¼Œæ”¯æŒæ™ºèƒ½ä½“ç¼–è¾‘å’Œä»»åŠ¡ç›‘æ§
- **ï¿½ æœåŠ¡ç«¯**: é«˜æ€§èƒ½çš„APIæœåŠ¡å™¨ï¼Œæä¾›WebSocketå®æ—¶é€šä¿¡å’Œæ•°æ®æŒä¹…åŒ–

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **æ™ºèƒ½ä½“ç®¡ç†**: åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤æ™ºèƒ½ä½“ï¼Œæ”¯æŒå¤šç§è±†åŒ…æ¨¡å‹
- **ä»»åŠ¡åä½œ**: å¤šæ™ºèƒ½ä½“ååŒå¤„ç†å¤æ‚ä»»åŠ¡
- **å®æ—¶é€šä¿¡**: WebSocketæ”¯æŒçš„å®æ—¶çŠ¶æ€æ›´æ–°
- **æ•°æ®æŒä¹…åŒ–**: æ™ºèƒ½ä½“å’Œä»»åŠ¡æ•°æ®è‡ªåŠ¨ä¿å­˜
- **å¯è§†åŒ–ç•Œé¢**: ç°ä»£åŒ–çš„Webç•Œé¢ï¼Œæ”¯æŒæš—é»‘æ¨¡å¼
- **ä¸€é”®éƒ¨ç½²**: Dockerå®¹å™¨åŒ–éƒ¨ç½²ï¼Œæ”¯æŒæœ¬åœ°å’Œè¿œç¨‹æœåŠ¡å™¨

## ï¿½ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Docker & Docker Compose (ç”¨äºéƒ¨ç½²)
- è±†åŒ…APIå¯†é’¥

### æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone <project-url>
cd ai-manager

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘ç¯å¢ƒ
npm run dev
```

### ä¸€é”®éƒ¨ç½² (æœ¬åœ°)
```bash
# æ‰§è¡Œæœ¬åœ°éƒ¨ç½²
./deploy/deploy.sh
```

### è¿œç¨‹æœåŠ¡å™¨éƒ¨ç½²
```bash
# é…ç½®SSHè¿æ¥ (ç¡®ä¿å¯ä»¥é€šè¿‡ssh my-tencentè¿æ¥åˆ°æœåŠ¡å™¨)
ssh-copy-id my-tencent

# æ‰§è¡Œè¿œç¨‹éƒ¨ç½²
./deploy/remote-deploy.sh
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
ai-manager/
â”œâ”€â”€ server/                 # æœåŠ¡ç«¯ä»£ç 
â”‚   â””â”€â”€ index.js           # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ src/                   # Webå‰ç«¯ä»£ç 
â”‚   â”œâ”€â”€ components/        # Reactç»„ä»¶
â”‚   â”œâ”€â”€ hooks/            # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ types.ts          # ç±»å‹å®šä¹‰
â”œâ”€â”€ desktop/              # æ¡Œé¢ç«¯ç®¡å®¶
â”‚   â”œâ”€â”€ butler.js         # ä¸»ç®¡å®¶ç¨‹åº
â”‚   â”œâ”€â”€ doubaoClient.js   # è±†åŒ…APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ config.json       # é…ç½®æ–‡ä»¶
â”œâ”€â”€ deploy/               # éƒ¨ç½²é…ç½®
â”‚   â”œâ”€â”€ docker-compose.yml # Dockerç¼–æ’
â”‚   â”œâ”€â”€ Dockerfile.*      # é•œåƒæ„å»º
â”‚   â”œâ”€â”€ deploy.sh         # æœ¬åœ°éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ remote-deploy.sh  # è¿œç¨‹éƒ¨ç½²è„šæœ¬
â””â”€â”€ data/                 # æ•°æ®å­˜å‚¨ç›®å½•
```

## ğŸ”§ é…ç½®è¯´æ˜

### æ¡Œé¢ç«¯é…ç½® (desktop/config.json)
```json
{
  "doubaoApiKey": "your-doubao-api-key-here",
  "doubaoEndpoint": "https://ark.cn-beijing.volces.com/api/v3",
  "serverHost": "localhost",
  "agents": [],
  "settings": {
    "maxConcurrentTasks": 3,
    "autoSync": true,
    "syncInterval": 30000
  }
}
```

### ç¯å¢ƒå˜é‡
- `NODE_ENV`: è¿è¡Œç¯å¢ƒ (development/production)
- `PORT`: æœåŠ¡ç«¯ç«¯å£ (é»˜è®¤8080)
- `API_URL`: APIæœåŠ¡åœ°å€

## ğŸ’¡ ä½¿ç”¨æŒ‡å—

### 1. é…ç½®è±†åŒ…API
é¦–æ¬¡ä½¿ç”¨éœ€è¦é…ç½®è±†åŒ…APIå¯†é’¥ï¼š

**æ¡Œé¢ç«¯é…ç½®**:
```bash
npm run desktop
# åœ¨ç®¡å®¶æ§åˆ¶å°ä¸­è¾“å…¥
apikey your-doubao-api-key-here
```

**æˆ–ç›´æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶**:
```bash
# ç¼–è¾‘ desktop/config.json
{
  "doubaoApiKey": "your-actual-api-key"
}
```

### 2. åˆ›å»ºæ™ºèƒ½ä½“
åœ¨Webç•Œé¢æˆ–æ¡Œé¢ç«¯åˆ›å»ºæ™ºèƒ½ä½“ï¼š

**Webç•Œé¢**: è®¿é—® http://localhostï¼Œåœ¨æ™ºèƒ½ä½“ç®¡ç†é¢æ¿ä¸­ç‚¹å‡»"åˆ›å»ºæ™ºèƒ½ä½“"

**æ¡Œé¢ç«¯**: 
```bash
create agent
# æŒ‰æç¤ºè¾“å…¥æ™ºèƒ½ä½“ä¿¡æ¯
```

### 3. æäº¤ä»»åŠ¡
åœ¨Webç•Œé¢æäº¤ä»»åŠ¡ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…ç»™åˆé€‚çš„æ™ºèƒ½ä½“å¤„ç†ã€‚

### 4. ç›‘æ§çŠ¶æ€
- Webç•Œé¢å®æ—¶æ˜¾ç¤ºä»»åŠ¡è¿›åº¦å’Œæ™ºèƒ½ä½“çŠ¶æ€
- æ¡Œé¢ç«¯æ§åˆ¶å°æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†æ—¥å¿—

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

### æ¡Œé¢ç«¯ç®¡å®¶å‘½ä»¤
```bash
help              # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
status            # æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€
agents            # æ˜¾ç¤ºæ™ºèƒ½ä½“åˆ—è¡¨
create agent      # åˆ›å»ºæ–°æ™ºèƒ½ä½“
edit agent <id>   # ç¼–è¾‘æ™ºèƒ½ä½“
delete agent <id> # åˆ é™¤æ™ºèƒ½ä½“
sync              # åŒæ­¥æ™ºèƒ½ä½“åˆ°æœåŠ¡å™¨
apikey <key>      # è®¾ç½®APIå¯†é’¥
clear             # æ¸…å±
exit              # é€€å‡º
```

### æœåŠ¡ç®¡ç†å‘½ä»¤
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose -f deploy/docker-compose.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f deploy/docker-compose.yml logs -f

# é‡å¯æœåŠ¡
docker-compose -f deploy/docker-compose.yml restart

# åœæ­¢æœåŠ¡
docker-compose -f deploy/docker-compose.yml down
```

## ï¿½ APIæ¥å£

### REST API
- `GET /api/agents` - è·å–æ™ºèƒ½ä½“åˆ—è¡¨
- `POST /api/agents` - åˆ›å»ºæ™ºèƒ½ä½“
- `PUT /api/agents/:id` - æ›´æ–°æ™ºèƒ½ä½“
- `DELETE /api/agents/:id` - åˆ é™¤æ™ºèƒ½ä½“
- `GET /api/tasks` - è·å–ä»»åŠ¡åˆ—è¡¨
- `GET /api/stats` - è·å–ç³»ç»Ÿç»Ÿè®¡

### WebSocket
- å®æ—¶ä»»åŠ¡çŠ¶æ€æ›´æ–°
- æ™ºèƒ½ä½“çŠ¶æ€åŒæ­¥
- ç³»ç»Ÿäº‹ä»¶é€šçŸ¥

## ï¿½ Dockeréƒ¨ç½²

### æœåŠ¡ç»„ä»¶
- **ai-manager-server**: åç«¯APIæœåŠ¡
- **ai-manager-web**: å‰ç«¯Webåº”ç”¨
- **nginx**: åå‘ä»£ç†å’Œè´Ÿè½½å‡è¡¡

### ç«¯å£æ˜ å°„
- `80`: Webç•Œé¢å…¥å£
- `8080`: APIæœåŠ¡ç«¯å£ (å†…éƒ¨)
- `3000`: Webåº”ç”¨ç«¯å£ (å†…éƒ¨)

## ï¿½ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æœåŠ¡å¯åŠ¨å¤±è´¥**
   ```bash
   # æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   docker-compose -f deploy/docker-compose.yml logs
   ```

2. **APIè¿æ¥å¤±è´¥**
   - æ£€æŸ¥è±†åŒ…APIå¯†é’¥æ˜¯å¦æ­£ç¡®
   - ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
   - éªŒè¯APIç«¯ç‚¹åœ°å€

3. **æ¡Œé¢ç«¯è¿æ¥ä¸ä¸ŠæœåŠ¡å™¨**
   - æ£€æŸ¥serverHosté…ç½®
   - ç¡®è®¤æœåŠ¡å™¨é˜²ç«å¢™è®¾ç½®
   - éªŒè¯WebSocketè¿æ¥

4. **æƒé™é—®é¢˜**
   ```bash
   # ä¿®å¤æ•°æ®ç›®å½•æƒé™
   sudo chown -R $USER:$USER data logs
   ```

### æ—¥å¿—ä½ç½®
- æœåŠ¡ç«¯æ—¥å¿—: `logs/server.log`
- æ¡Œé¢ç«¯æ—¥å¿—: `desktop/logs/`
- Dockeræ—¥å¿—: `docker-compose logs`

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤ä¿®æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ™ è‡´è°¢

- [è±†åŒ…API](https://www.volcengine.com/product/doubao) - æä¾›å¼ºå¤§çš„AIèƒ½åŠ›
- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Express](https://expressjs.com/) - åç«¯æ¡†æ¶
- [Docker](https://www.docker.com/) - å®¹å™¨åŒ–å¹³å°

## ï¿½ æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·æäº¤ Issue æˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**ğŸ‰ æ„Ÿè°¢ä½¿ç”¨AIä»»åŠ¡ç®¡å®¶ç³»ç»Ÿï¼ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼**